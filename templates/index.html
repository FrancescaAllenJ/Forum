<body>
    <h1>Welcome to the Forum</h1>

    {{if .User}}
        <p>You are logged in as <strong>{{.User.Username}}</strong></p>
        <p>
            <a href="/create-post">Create Post</a> |
            <a href="/logout">Logout</a>
        </p>
    {{else}}
        <p>
            <a href="/login">Login</a> |
            <a href="/register">Register</a>
        </p>
    {{end}}

    <hr>

    <h2>Recent Posts</h2>

    {{if .Posts}}
        {{range .Posts}}
            <div style="margin-bottom: 20px;">

                <!-- POST TITLE (clickable link) -->
                <h3>
                    <a href="/post?id={{.ID}}">{{.Title}}</a>
                </h3>

                <p>{{.Content}}</p>

                <!-- USERNAME -->
                <small>
                    Posted by <strong>{{.Username}}</strong> on {{.CreatedAt}}
                </small>

                <!-- CATEGORIES -->
                {{if .Categories}}
                    <p>
                        Categories:
                        {{range .Categories}}
                            <a href="/category?id={{.ID}}"
                               style="background:#eee;padding:4px;border-radius:4px;margin-right:5px;">
                                {{.Name}}
                            </a>
                        {{end}}
                    </p>
                {{end}}

                <!-- LIKE / DISLIKE COUNTS -->
                <p>
                    ğŸ‘ {{.Likes}} | ğŸ‘ {{.Dislikes}}
                </p>

                <!-- LIKE / DISLIKE BUTTONS -->
                <form action="/like" method="POST" style="display:inline;">
                    <input type="hidden" name="type" value="post">
                    <input type="hidden" name="id" value="{{.ID}}">
                    <input type="hidden" name="value" value="1">
                    <button type="submit">ğŸ‘ Like</button>
                </form>

                <form action="/like" method="POST" style="display:inline;margin-left:8px;">
                    <input type="hidden" name="type" value="post">
                    <input type="hidden" name="id" value="{{.ID}}">
                    <input type="hidden" name="value" value="-1">
                    <button type="submit">ğŸ‘ Dislike</button>
                </form>

            </div>
        {{end}}
    {{else}}
        <p>No posts yet. Be the first to create one!</p>
    {{end}}
</body>
